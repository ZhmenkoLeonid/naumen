Тестовое задание

Стажер Java-разработчик

Кэширующий сервер

Владимир работает в крупной компании, одно из направлений которой обработкабольших данных. Данные находятся в распределённой системе. Количество уникальных
данных в системе ограничено и каждый экземпляр данных имеет свой идентификатор (номер). Клиенты этой компании часто запрашивают эти данные и, так как время, затраченное на получение данных достаточно велико, то для оптимизации обращений Владимиру
поручено написать middlware сервер (сервер посредник), через который будут проходить
запросы данных. Распределённая система хранит огромное количество данных, поэтому
все данные не могут поместиться на сервер полностью. Но сервер может кэшировать результаты запросов к распределённой системе и для этого выделена память, достаточная
для хранения не более чем N запросов. В связи с тем, что запросы от клиентов проходят
через наш сервер, клиент не может получить данных напрямую из распределённой системы. Это значит, что в любом случае данные должны быть загружены на middlware сервер.
К счастью Владимира, оказалось, что самые крупные и значимые клиенты всегда обращаются за одними и теми же данными в одной и той же последовательности, так что у
него есть заранее определённый чёткий порядок запросов. Помогите Владимиру придумать
алгоритм, чтобы как можно больше данных было получено из кэша сервера, без обращения к распределённой системе.
Для упрощения задачи считаем, что все полученные с помощью запроса данные занимают одинаковое количество байт, поэтому объём памяти для данных можно вынести из
рассмотрения и оставить только количество кэшируемых запросов. Обращение к распределённой системе реализовывать не нужно, как и оформление программы в виде сервера,
нужен только алгоритм в виде консольного приложения.

Требования к работе алгоритма (желательно)

• Ограничение по времени: 3 секунды

• Ограничение по памяти: 64 мегабайта

Формат входных данных

• Имя входного файла: input.txt

• На вход программы подаётся максимальное количество запросов 1 ≤ N ≤ 100 000, которое может быть закэшировано на сервере, количество запросов 1 ≤ M ≤ 100 000 и ровно M запросов с идентификаторами 0 ≤ Ri ≤ (263-1). Количество различных номеров запросов ограничено и не превосходит 100 000.

Формат выходных данных

• Имя выходного файла: output.txt

• Требуется вывести одно число: сколько раз пришлось обратиться к распределённой системе за данными, отсутствующими в кэше. В начале работы кэш
пуст. 
